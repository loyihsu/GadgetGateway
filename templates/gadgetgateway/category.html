<!DOCTYPE html>
{% extends 'gadgetgateway/base.html' %}
{% load staticfiles %}

{% block title_block %}
    {% if category %}
        {{ category.name }}
    {% else %}
        Unknown Category
    {% endif %}
{% endblock %}

{% block body_block%}
    <div class="container">
    {% if category %}
        <h1>{{category.name}}</h1>
        {% if products %}
        <table class="table">
            <tr>
                <th>Product Name</th>
                <th>Description</th>
                <th>Views</th>
                <th>Votes</th>
            {% for product in products %}
            <tr>
                <td>
                <a href="{% url 'gadgetgateway:goto' %}?product={{ product.id }}">{{ product }}</a> 
                </td>
                <td>
                {{ product.description }}
                </td>
                <td>
                {{ product.views }}
                </td>
                <td>
                {{ product.votes }}
                </td>
            </tr>
            {% endfor %}
        </table>
        {% else %}
        <strong>No product currently in category.</strong> <br/>
        {% endif %}

        {% if user.is_authenticated %}
            <a href="{% url 'gadgetgateway:add_product' category.slug %}">Add Product</a> <br/>
        {% endif %}
    {% else %}
        <strong> The specified category does not exist. </strong>
    {% endif %}
    </div>
    <!-- {% if products %}
    <ul>
        {% for product in products %}
        <li>
            <a href="{% url 'gadgetgateway:goto' %}?product={{ product.id }}">{{ product }}</a>
            {% if product.views > 1 %}
                ({{ product.views }} views)
            {% elif product.views == 1 %}
                ({{ product.views}} view)
            {% endif %}
        </li>
        {% endfor %}
    </ul>
    {% endif %} -->
{% endblock %}