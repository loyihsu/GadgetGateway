<!DOCTYPE html>
{% extends 'gadgetgateway/base.html' %}
{% load staticfiles %}

{% block title_block %}
    {% if category %}
        {{ category.name }}
    {% else %}
        Unknown Category
    {% endif %}
{% endblock %}

{% block body_block%}
    <div class="container">
    {% if category %}
        <h1>{{category.name}}</h1>
        {% if products %}
        <table class="table">
            {% for product in products %}
            <tr>
                <td>
                {{ product }}
                </td>
                <td>
                {{ product.likes }}
                </td>
                <td>
                {{product.dislikes}}
                </td>
            </tr>
            {% endfor %}
        </table>
        {% else %}
        <strong>No product currently in category.</strong> <br/>
        {% endif %}

        {% if user.is_authenticated %}
            <a href="{% url 'gadgetgateway:add_product' category.slug %}">Add Product</a> <br/>
        {% endif %}
    {% else %}
        <strong> The specified category does not exist. </strong>
    {% endif %}
    </div>
{% endblock %}